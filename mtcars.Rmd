---
title: "Analysis of mileage differences between automatic and manual transmission cars"
author: "Arun K Viswanathan"
date: "September 2015"
output:
  html_document:
    theme: united
    toc: yes
  pdf_document:
    toc: true
    highlight: zenburn
---

```{r setup, echo=FALSE, include=FALSE}
knitr::opts_chunk$set(cache = TRUE)
```

```{r load-libraries, echo=TRUE, include=FALSE}
library(UsingR)
library(ggplot2)
```

# Overview

This paper looks at the "Motor Trend Car Road Tests" (*mtcars*) data from the 1974 *Motor Trend* US magazine and analyzes the differences in mileage (*mpg*) between automatic and manual transmission cars. 

# Exploratory Data Analysis

```{r load-data, echo=TRUE, tidy=TRUE}
data(mtcars)
mtcars$Transmission <- factor(mtcars$am, labels=c("Automatic", "Manual"))
mtcars <- mtcars[,c("mpg", "Transmission")]
nobs <- nrow(mtcars)
```

The *mtcars* data set contains `r nobs` observations of various variables including miles/(US) gallon *mpg* and transmission type. The data is loaded via the *UsingR* library and only the variables of interest are retained. Here is a description of the data:

```{r describe-data, echo=FALSE}
describe(mtcars)
```

# Variation in MPG by transmission type

Here's the linear model that can be fit on the available data to show the variation in MPG based on transmission type.

```{r fit-data, echo=TRUE}
fit <- lm(mpg ~ Transmission, mtcars)
summary(fit)
slope_p <- summary(fit)$coefficients[2,4]
```

As seen in the fit coefficients, the *p* value for the slope is **`r slope_p`** which is well within tolerance.

```{r predict-data, echo=TRUE}
fit$coefficients
prediction <- predict(fit, newdata=data.frame(Transmission = c("Automatic", "Manual")))
diff <- prediction[2] - prediction[1]
```

The predicted mpg for Automatic transmissions is **`r prediction[1]`** and for Manual transmissions **`r prediction[2]`**. So we can say that *Manual transmission cars have better mpg* by an average of **`r diff`**.

# Appendix

The following section contains plots built using the *ggplot2* library. R code snippets accompany each of the figures.

## Variation in MPG by transmission type

```{r mpg-by-transmission, echo=TRUE}
g <- ggplot(data = mtcars, aes(x = Transmission, y = mpg, colour = Transmission)) 
g <- g + geom_jitter() 
g <- g + ggtitle("Variation in mpg by transmission type")
g <- g + xlab("Transmission Type")
g <- g + ylab("Miles/(US) gallon - MPG")
g
```
